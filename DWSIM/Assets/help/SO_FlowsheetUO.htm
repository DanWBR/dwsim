<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
<script src="ContentScripts.js"></script>
<link rel="stylesheet" type="text/css" href="DWSIMstyle.css">
<!-- ================================================================================== -->
<!-- ==================== Begin of content ============================================ -->
<!-- ================================================================================== -->
</head>
<body onload="LoadMenue()">

<h2>Flowsheet Unit Operation</h2>
<a href="SO_ExcelUO.htm" target="_parent"><img src="pictures/arrow-up.gif"></a>
<a href="SO_SolidSeparator.htm" target="_parent"><img src="pictures/arrow-down.gif"></a>
<hr>

<p>The Flowsheet Unit Operation allows you to run a XML
simulation file as a block inside another flowsheet. This can be useful
if you have a large simulation and want to split it in several, smaller
blocks which can be run as independent simulations, making it easier to
mantain, make modifications and fix errors in the smaller blocks.<br>
</p>
<p>Mass transfer between flowsheets is done in a per-compound
basis, that is, any compound that doesn't match in both simulations will
have its flow data erased in the inner flowsheet and will be ignored in
the outer one.&nbsp;</p>
<p>The mass is transferred to and from the inner flowsheet by
matching inlet and outlet Material Streams connected to the Flowsheet
UO with streams in the inner flowsheet. Besides mass/mole flow
information, temperature, pressure and enthalpy are also written and
read to and from the inner flowsheet.&nbsp;</p>
<p>DWSIM uses the Property Package models defined in
the&nbsp;inner flowsheet to do the mass and energy balances. Only
settings like Parallel CPU and Parallel GPU calculations affect the way
that DWSIM does its calculations inside the block, since it will use
the parameters defined when the inner flowsheet was last saved.&nbsp;</p>You
can select Parameters/Properties from&nbsp;objects in the inner
flowsheet to expose them to&nbsp;the outer flowsheet, allowing usage of
these parameters in Optimization and Sensitivity Analysis cases, Script
blocks and for displaying in the outer flowsheet as well.
<table>
<tbody>
<tr>
<td><img style="width: 414px; height: 811px;" alt="" src="Pictures/SO_FlowsheetUO1.png"></td>
<td>
<h3>Connections<br>
</h3>
<br>
Ten inlet&nbsp;and ten outlet Material Stream ports are available
for connecting with Material Streams from the inner flowsheet.<br>
<br>
After connecting streams to the ports, you must open the Control Panel
to map the connected streams to streams in the inner flowsheet.<br>
<h3>Calculation Parameters</h3>
<br>
<span style="font-weight: bold;">Simulation file:</span>
selects the XML simulation file to use as the inner flowsheet.<br>
<br>
<span style="font-weight: bold;">Control Panel:</span>
opens the Control Panel to initialize the flowsheet, define stream
mapping, expose input and output parameters from the inner flowsheet
and define the mass transfer mode.<br>
<br>
<span style="font-weight: bold;">Initialize on load:</span>
if true, initializes the inner flowsheet during the opening of the main
flowsheet.<br>
<br>
<span style="font-weight: bold;">Update process data
on saving</span>: when saving the main simulation file, DWSIM
will update the&nbsp;process data from the inner flowsheet in the
selected XML file. Only object process data calculated by the solver
will be updated. Other settings will&nbsp;remain unchanged.<br>
<br>
<span style="font-weight: bold;">Redirect calculator
messages:</span> show calculation details from the inner
flowsheet in the main flowsheet's log window.<br>
<br>
<span style="font-weight: bold;">View flowsheet:</span>
shows the inner flowsheet PFD.<br>
<h3>Linked Input Parameters</h3>
<br>
This section will display the parameters that you've selected in the
control panel to use as input parameters in the outer flowsheet. They
can be changed anytime and will trigger the calculation of the
flowsheet block.<br>
<h3>Linked Output Parameters</h3>
<br>
This section will display the parameters that you've selected in the
control panel to use as output parameters in the outer flowsheet. They
are read-only and will be updated only after the flowsheet block is
calculated successfully.<br>
<h3>Results</h3>
<br><span style="font-weight: bold;">
Mass balance error: </span>shows the mass balance error in %. It can be useful
to detect orphan streams in the inner flowsheet, that is, streams that
work as inlet or outlet streams in the inner flowsheet but aren't
connected to any stream in the main flowsheet, as this may lead to
large mass balance errors.<br>
</td>
</tr>
</tbody>
</table>
<h3>Control Panel</h3>
<br>
Use the Control Panel to initialize the flowsheet. Only after
initialization you'll be able to make the connection and expose
parameters from the inner flowsheet. You can also use the
"Initialize/Reload" button to reload the simulation file after you've
done changes in the simulation by opening it in another DWSIM window.<br>
<img style="width: 795px; height: 429px;" alt="" src="Pictures/SO_FlowsheetUO2.png"><br>
<h3>Viewing the inner flowsheet</h3>
<br>
By clicking on the "View Flowsheet" button in the property grid you'll
be able to view the inner flowsheet, check object properties and the
overall layout. <span style="font-weight: bold;">You
can't change anything here, so any attempt to do so will result in an
error.<br>
<br>
</span><img style="width: 1024px; height: 634px;" alt="" src="Pictures/SO_FlowsheetUO5.png"><br>
<br>
</body></html>